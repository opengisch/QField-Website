{{ define "main" }}


<!-- Section #2: main points -->
<section id="donation" class="section-spacing text-center">
  <div class="container" style="max-width:1140px; margin-top: 20px;">

    <section class="section-spacing">
      <div class="container"
        style="max-width: 1140px; margin: 0 auto; display: flex; flex-wrap: wrap; gap: 2rem; align-items: stretch;">

        <!-- donation block -->
        <div style="max-width: 500px; margin: 0 auto;">
          <div
            style="background-color: #fff; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); padding: 2rem;">

            <!-- moved explanation text here -->
            <h2 style="margin-bottom: 15px;"><strong>Payrexx Donation</strong></h2>
            <p style="margin-bottom: 15px;"> We use the <a href="https://payrexx.com" target="_blank"
                style="color: var(--qfield-color); font-weight: bold;">payrexx.com <i class="fas fa-external-link-alt"
                  style="font-size: 0.85em;"></i></a> service to receive credit card donations. No signup needed.
            </p>

            <!-- tabs -->
            <div style="display: flex; justify-content: center; margin-bottom: 1rem; border-bottom: 1px solid #ccc;">
              <button class="donation-tab active" data-tab="one-time">One-Time</button>
              <button class="donation-tab" data-tab="monthly">Monthly</button>
            </div>

            <!-- one-time -->
            <div class="donation-options" id="one-time"
              style="display: grid; gap: 1rem; max-width: 320px; margin: 0 auto;">
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn selected">CHF
                10.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF 20.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF 50.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF
                100.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF
                250.00</a>
            </div>

            <!-- monthly -->
            <div class="donation-options" id="monthly"
              style="display: none; gap: 1rem; max-width: 320px; margin: 0 auto;">
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF 10.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF 20.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF 50.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF
                100.00</a>
              <a href="https://qfield.payrexx.com/en/pay?cid=6701c52d&tid=02698ddf" class="donation-btn">CHF
                250.00</a>
            </div>

            <!-- donate btn -->
            <div style="text-align: center; margin-top: 25px; margin-bottom: 10px;">
              <a href="#" id="donate-link" class="donation-submit"
                style="max-width: 200px; margin: 0 auto; display: inline-block;">Donate</a>
            </div>
          </div>
        </div>
      </div>

      <div class="support-container">
        <div class="header-section">
          <h1>Your support is vital to keep QField improving</h1>
          <p>We would like to extend our activities and improve the quality of QField. Your financial contribution
            will support the maintenance, improvement, and promotion of QField. Becoming a sustaining member is a way of
            ensuring the longevity and overall health of the project.</p>
        </div>

        <div class="support-content">
          <div class="left-section">
            <h2 class="section-title">Enhanced Infrastructure <br> & Development Support</h2>
            <div class="accent-bar"></div>
          </div>

          <div class="right-section">
            <div class="support-card">
              <h3 class="card-title">Maintaining Core Infrastructure</h3>
              <ul class="card-list">
                <li>The official qfield.org website, a central hub for all things QField.</li>
                <li>Our issue tracking system for efficient bug and feature reporting.</li>
                <li>The continuous integration system, ensuring code quality and stability through automated tests.
                </li>
              </ul>
            </div>

            <div class="support-card">
              <h3 class="card-title">Software Development & QA</h3>
              <ul class="card-list">
                <li>Continually improve and package QField for various operating systems, making it accessible to more
                  users worldwide.</li>
                <li>Address bugs and other issues promptly, enhancing the user experience.</li>
                <li>Manage pull requests and conduct thorough code reviews, ensuring the highest standards of software
                  development.</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="support-content" style="margin-top: 50px;">
          <div class="left-section">
            <h2 class="section-title">Community Growth <br> & Engagement</h2>
            <div class="accent-bar"></div>
          </div>

          <div class="right-section">
            <div class="support-card">
              <h3 class="card-title">Empowering Our Volunteers</h3>
              <ul class="card-list">
                <li>.Mentoring new contributors, fostering a welcoming and productive community.</li>
                <li>Translating QField into multiple languages, making the app truly global.</li>
                </li>
              </ul>
            </div>

            <div class="support-card">
              <h3 class="card-title">Fostering Collaboration & Knowledge Sharing </h3>
              <ul class="card-list">
                <li>Organizing and supporting contributor meetings and QField conferences, essential for knowledge
                  exchange, collaboration, and the collective advancement of the QField project.</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="footer-section">
          <p>qfield.org wants to be transparent with the funds we receive and how we spend them. Please have a look at
            the financial reports and budgets in our Finance section.</p>
        </div>
      </div>
    </section>
  </div>
</section>

<script>
  // Tab switching
  document.querySelectorAll('.donation-tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.donation-tab').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');

      const selectedTab = tab.getAttribute('data-tab');
      document.querySelectorAll('.donation-options').forEach(opt => opt.style.display = 'none');
      document.getElementById(selectedTab).style.display = 'grid';

      // Reset selected amount
      document.querySelectorAll('.donation-btn').forEach(btn => btn.classList.remove('selected'));
      const firstBtn = document.querySelector(`#${selectedTab} .donation-btn`);
      if (firstBtn) {
        firstBtn.classList.add('selected');
        document.getElementById('donate-link').href = firstBtn.href;
      }
    });
  });

  // Amount selection
  document.querySelectorAll('.donation-btn').forEach(btn => {
    btn.addEventListener('click', e => {
      e.preventDefault();
      document.querySelectorAll('.donation-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      document.getElementById('donate-link').href = btn.href;
    });
  });

  // Initial state
  document.getElementById('donate-link').href = document.querySelector('#one-time .donation-btn').href;
</script>
{{ end }}